<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<title>Note</title>
		<link rel="icon" href="/image/icon/moon32w.png" type="image/png">
		<!-- link to main stylesheet -->
		<link rel="stylesheet" id="bootstrap-css"  href="http://cdn.staticfile.org/twitter-bootstrap/3.2.0/css/bootstrap.min.css" type="text/css" media="all" />
		<link rel="stylesheet" type="text/css" href="/css/main.css">	
	</head>
	<body>	
	<div class="container">
		<nav><ul>
	             <li><a href="/">Home</a></li>
			      <li><a href="/blog">Blog</a></li>
			      <li><a href="/project">Project</a></li>
			      <li><a href="/note"><b>Note</b></a></li>
			      <li><a href="/about">About</a></li>
       		 </ul></nav>
        </div><!-- /.container -->
        
        <div class="container">
	<div class="row">	
		<div class="col-sm-3">
		<div class="site-avator"></div>
  		<div class="menu">
			<ul>
			<li class="current-path"><a href="/note/cpp/">Note on C++</a></li>
			<li><a href="/note/linux/">Linux/Unix environment</a></li>
			<li><a href="/note/dedupe/">Data Deduplication</a></li>
			<li><a href="/note/algorithms">Algorithms and Data Structure</a></li>
			</ul>
		</div><!-- /.menu -->
		</div><!-- /.col-sm-3"-->

		<div class="col-sm-9">
			<h2 class="entry-title">Pointer Type vs Reference Type</h2>
			<p> å¼•ç”¨ï¼šå¯¹è±¡çš„å¦å¤–ä¸€ä¸ªåå­—ã€‚
												<br> è®°æ³•ï¼šX& è¡¨ç¤ºåˆ°Xçš„å¼•ç”¨ 
												<br> æ³¨æ„è¿™é‡Œçš„å¯¹è±¡æ˜¯å¯¹åº”ä¸€å®šæ•°é‡çš„å­˜å‚¨å•å…ƒçš„å®ä½“çš„ï¼Œæ‰€ä»¥ä¸ºäº†ç¡®ä¿ä¸€ä¸ªå¼•ç”¨æ€»èƒ½æ˜¯æŸä¸ªä¸œè¥¿çš„åå­—ï¼Œå¿…é¡»å¯¹å¼•ç”¨è¿›è¡Œåˆå§‹åŒ–  
												</p>
			
			<h2 class="entry-title">new vs operator new</h2>
			<p>ÔËËã·ûnewÓÃÓÚ½¨Á¢ÆğÉú´æÊ±¼ä²»ÒÀÀµÓÚÆä×÷ÓÃÓòµÄ¶ÔÏóÁË£¬Ò²¾ÍÊÇËµ£¬ÓÉnew·ÖÅäµÄ¶ÔÏóÊÇÔÚ×ÔÓÉ´æ´¢£¨¶Ñ£©ÖĞ£¬ÓÉnew·ÖÅäµÄµ¥¸ö¶ÔÏóÓÉÔËËã·ûdelete pointer or ÓÉnew·ÖÅäµÄÊı×éÓÉdelte[] pointer ÏÔÊ½µØÉ¾³ı¡£</p>
			<p>¼òµ¥µÄ<code>char* s = new char[10];</code>Êµ¼ÊÉÏÊÇĞèÒªÏÂÃæ¼¸¸ö²½ÖèµÄ£º
			    <ol><li>¼ÆËã³öĞèÒª·ÖÅäµÄ×Ö½ÚµÄÊıÁ¿size_t£»</li>
			    <li>µ÷ÓÃ<code>void* operator new[](size_t)</code>È¥·ÖÅäÊÊµ±ÊıÁ¿µÄ×Ö½Ú£»Èç¹ûÊ¹ÓÃÔËËã·ûnewÎªµ¥¸ö¶ÔÏó·ÖÅä¿Õ¼äÊ±£¬Ôòµ÷ÓÃ<code>void* operator new(size_t)</code>;</li>
			    <li>....</li>
			    </ol>
			</p>
			<p>±ê×¼¿âoperator newµÄÒ»¸ö¼òµ¥ÊµÏÖ£º</p>
			<p><code>void* operator new(sizee_t size) <br/>
			{ <br />
				for (;;){ <br />
					if (void* p = malloc(size)) return p;<br />
					if (_new_handler == 0) throw bad_alloc(); //Ã»ÓĞÓÃ»§ÉèÖÃµÄÒì³£´¦ÀíÆ÷£¬Ä¬ÈÏÖ±½ÓÅ×³öbad_alloc <br />
					_new_handler(); //µ÷ÓÃÓÃ»§ÉèÖÃµÄÒì³£´¦Àí´úÂë <br />
				} <br />
			}</code></p> 

		</div><!-- /.col-sm-9"-->
										</div><!-- /.row -->
										</div><!-- /.container -->
			
	<div class="container">
	<footer>
		<ul>
		<li><a href="mailto:shicuitingfei@163.com">email</a></li>
		<li><a href="https://github.com/cuitingshi">github webpage</a></li>
	      	</ul>
	</footer>
	</div><!-- /.container -->
  </body> 
</html>
